<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>LLM 互動資格考練習（研究法）</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="header">
      <div>
        <h1>LLM 互動資格考練習（研究法）</h1>
        <p class="subtle">
          本機工具：題庫出題＋限時作答＋LLM 評分回饋（API key 可在此頁輸入；不寫入檔案）。
        </p>
      </div>
      <div class="status" id="status"></div>
    </header>

    <main class="layout">
      <section class="panel">
        <h2>設定</h2>

        <label class="field">
          <div class="label">題庫</div>
          <select id="setSelect"></select>
        </label>

        <label class="field">
          <div class="label">供應商</div>
          <select id="providerSelect">
            <option value="openai">OpenAI</option>
            <option value="google">Google（Gemini）</option>
            <option value="claude">Claude（Anthropic）</option>
          </select>
        </label>

        <label class="field">
          <div class="label">模型（下拉選單）</div>
          <select id="modelInput"></select>
          <input
            id="modelCustomInput"
            class="hidden"
            type="text"
            placeholder="自訂模型名稱（例如：gemini-1.5-flash / claude-3-5-sonnet-20241022）"
            spellcheck="false"
            autocomplete="off"
            inputmode="text"
          />
        </label>

        <label class="field">
          <div class="label" id="apiKeyLabel">API Key（不會寫入檔案；可選擇只存在此瀏覽器）</div>
          <input
            id="apiKeyInput"
            type="password"
            placeholder="（依供應商不同）"
            spellcheck="false"
            autocomplete="off"
            inputmode="text"
          />
          <div class="inline">
            <label class="check">
              <input id="rememberKey" type="checkbox" />
              記住在此瀏覽器（localStorage）
            </label>
            <label class="check">
              <input id="showKey" type="checkbox" />
              顯示
            </label>
            <button id="clearKeyBtn" class="secondary" type="button">清除 key</button>
          </div>
          <div class="subtle">
            建議不要在公用電腦勾選「記住」；請勿把 key 貼到聊天或 commit。
          </div>
        </label>

        <label class="field">
          <div class="label">題目</div>
          <select id="questionSelect"></select>
        </label>

        <div class="timer">
          <div class="timer-row">
            <div class="label">計時</div>
            <div class="timer-value" id="timerValue">00:00</div>
          </div>
          <div class="timer-actions">
            <button id="timerStart">開始</button>
            <button id="timerPause" class="secondary">暫停</button>
            <button id="timerReset" class="secondary">重設</button>
          </div>
        </div>

        <details class="tips">
          <summary>練習建議（快速）</summary>
          <ul>
            <li>先寫 1–3 句定義／立場，再列得分點，最後補 1 個例子。</li>
            <li>先不看筆記，寫完再對照修正（以「漏掉的得分點」為主）。</li>
          </ul>
        </details>
      </section>

      <section class="panel">
        <h2>題目</h2>
        <div class="question-meta" id="questionMeta"></div>
        <pre class="question" id="questionText"></pre>
      </section>

      <section class="panel">
        <h2>作答</h2>
        <textarea id="answerInput" placeholder="在這裡輸入你的答案（建議用條列）"></textarea>
        <div class="actions">
          <button id="submitBtn" class="primary">送出評分</button>
          <button id="saveDraftBtn" class="secondary">存草稿</button>
          <button id="clearBtn" class="secondary">清空</button>
        </div>
        <div class="subtle" id="draftStatus"></div>
      </section>

      <section class="panel">
        <h2>評分回饋</h2>
        <div id="result" class="result subtle">尚未評分。</div>
      </section>

      <section class="panel">
        <h2>歷史紀錄（本機）</h2>
        <div class="history" id="history"></div>
      </section>
    </main>

    <footer class="footer">
      <div class="subtle">
        這是練習工具；請以官方書單與課程內容校正答案，不要把回饋當成唯一標準。
      </div>
    </footer>

    <script src="./app.js"></script>
  </body>
</html>
